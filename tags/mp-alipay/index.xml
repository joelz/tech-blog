<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mp-Alipay on Notes by Joel</title><link>https://joelz.github.io/tech-blog/tags/mp-alipay/</link><description>Recent content in Mp-Alipay on Notes by Joel</description><generator>Hugo</generator><language>en-us</language><copyright>Copy, right? 🤔</copyright><lastBuildDate>Thu, 20 Jul 2023 12:01:58 +0800</lastBuildDate><atom:link href="https://joelz.github.io/tech-blog/tags/mp-alipay/index.xml" rel="self" type="application/rss+xml"/><item><title>支付宝小程序导航栏自定义方案</title><link>https://joelz.github.io/tech-blog/posts/20230720-mp_alipay_navigation-bar/</link><pubDate>Thu, 20 Jul 2023 12:01:58 +0800</pubDate><guid>https://joelz.github.io/tech-blog/posts/20230720-mp_alipay_navigation-bar/</guid><description>先看支付宝小程序文档怎么说 导航栏背景色 // 若在 app.json 中的 window 中配置，则对全局页面生效 &amp;#34;window&amp;#34;: { &amp;#34;titleBarColor&amp;#34;: &amp;#34;#FFFFFF&amp;#34; }, // 若在 page.json 中配置，则对当前页面生效 { &amp;#34;titleBarColor&amp;#34;: &amp;#34;#FFFFFF&amp;#34; } // 也可以使用 my.setNavigationBar() 设置当前页面的导航栏的背景色 my.setNavigationBar({ backgroundColor: &amp;#34;#FFFFFF&amp;#34; }) 导航栏前景色（状态栏文字、按钮、以及标题的颜色） // frontColor必须和backgroundColor一起设置才能生效； // 导航栏背景色会影响导航栏前景色。 若只设置导航栏背景色，则当背景色为 #ffffff时，前景色为黑色，否则前景色为白色。 my.setNavigationBar({ frontColor: &amp;#39;#ffffff&amp;#39;, backgroundColor: &amp;#39;#000000&amp;#39; }) https://opendocs.alipay.com/mini/007l6m?pathHash=3b919f4b:
字体颜色、返回按钮颜色属于导航栏前景色。前景色仅支持 #ffffff 和 #000000。 可以通过 my.setNavigationBar 入参 frontColor 直接修改导航栏前景色（基础库 2.7.24 开始支持） 也可通过 my.setNavigationBar 入参 backgroundColor 间接影响导航栏前景色。即当 backgroundColor 为白色时，前景色为黑色；当 backgroundColor 为其他颜色时，前景色为白色。
两种方案 方案1: title 用支付宝原生的 背景色不透明 默认就好。
背景色透明 uniapp 的 pages.</description></item><item><title>小程序及App内嵌H5</title><link>https://joelz.github.io/tech-blog/posts/20220418-weixin_mp_webview/</link><pubDate>Mon, 18 Apr 2022 12:01:58 +0800</pubDate><guid>https://joelz.github.io/tech-blog/posts/20220418-weixin_mp_webview/</guid><description>微信小程序内嵌 H5 通信机制 微信小程序向 H5 发送消息 URL search 传参：在 H5 初始加载时，通常会带上用户的登录态作为参数，使 H5 可以继续与后台交互。类似 https://example.com/h5.html?token=SGVsbG9Xb3JkIQ== URL hash 传参：在 H5 浏览期间，可以 利用网页 URL 中的 hash 部分改变不会导致网页重新加载的特点，实现小程序向 H5 发送消息。但是：【报Bug】UNIAPP H5修改hash模式的URL参数会导致页面重载，以前旧的hbx2.8.11是不会重载的 - DCloud问答 websocket H5 向微信小程序发送消息 postMessage：小程序内嵌 H5 可以使用 JSSDK 向小程序发送消息。网页向小程序 postMessage 时，只会在特定时机（小程序后退、组件销毁、分享）触发并收到消息，不是实时触发。e.detail = { data }，data是多次 postMessage 的参数组成的数组 路由传参：在使用 JSSDK 调起小程序页面时，可以通过在页面路径后携带参数的方式通信。类似 wx.miniProgram.navigateTo({ url: '/path/to/page?foo=bar' }) websocket 不足 对于需要用户交互才能使用的小程序能力（比如分享，获取用户手机号，获取用户信息，获取用户头像，订阅消息等），需要跳转页面 WebView 页面的导航栏只能固定用默认的白底黑字风格 参考链接 微信小程序混合开发笔记 微信小程序+webview+vue混合开发 传值踩坑_choutian5268的博客-CSDN博客 【报Bug】UNIAPP H5修改hash模式的URL参数会导致页面重载，以前旧的hbx2.8.11是不会重载的 - DCloud问答 - web-view | 微信开放文档 App内嵌 H5 通信机制 App向 H5 发送消息 evalJS： 1 2 3 4 5 const js = `window.</description></item></channel></rss>